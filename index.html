<html>
    <head>
        <link rel="stylesheet" href="./styles.css">
        <script type="module">
          import { createAgent } from "https://test.connectifi-interop.com/agent/main.bundle.js";
          document.addEventListener("DOMContentLoaded", async () => {
          const fdc3 = await createAgent(
            `https://test.connectifi-interop.com`,
            '*@sandbox',
            {
              headless: false,
              onConnected: () => {
                const alertCon = document.getElementById("connected");
                const alertDCon = document.getElementById("disconnected");
                if (alertCon) {
                  alertCon.classList.add("show");
                }
                if (alertDCon) {
                  alertDCon.classList.remove("show");
                }
              },
              onDisconnected: () => {
                const alertCon = document.getElementById("connected");
                const alertDCon = document.getElementById("disconnected");
                if (alertCon) {
                  alertCon.classList.remove("show");
                }
                if (alertDCon) {
                  alertDCon.classList.add("show");
                }
              },
            }
          );
          });
        </script>
    </head>
    <body>
        <div class='content'>
            <div class='row description'>
                Connection detection for the Agent
            </div>
            <div class="row">
                <div id="connected" class="alert">CONNECTED</div>
                <div id="disconnected" class="alert show">DISCONNECTED</div>
            </div>
        </div>
    </body>
</html>
